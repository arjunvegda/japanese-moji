!function(a,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((a||self).japaneseMoji={})}(this,function(a){var e=function(){return[].slice.call(arguments).join("")};function t(a,t){if(!a){var r=e("[japanese-moji]: ",t);throw new Error(r)}}var r,n=/^[\\][u][0-9A-F]{4,6}$/,i=function(a){return!!a&&new RegExp(n,"ui").test(a)},o=function(a,r){var n=i(a),o=i(r);return t(n,"createRange: invalid unicode value supplied for start of the range"),t(o,"createRange: invalid unicode value supplied for end of the range"),e("[",a,"-",r,"]")},c=function(a){return t(i(a),"createUnicode: invalid unicode value supplied"),e("[",a,"]")};a.CharacterSet=void 0,(r=a.CharacterSet||(a.CharacterSet={})).CJKPunctuations="CJKPunctuations",r.Hiragana="Hiragana",r.Katakana="Katakana",r.KatakanaPhoneticExtension="KatakanaPhoneticExtension",r.RareKanji="RareKanji",r.KanjiCompatibilityIdeographs="KanjiCompatibilityIdeographs",r.CommonUncommonKanji="CommonUncommonKanji",r.RomanHalfwidthKatakana="RomanHalfwidthKatakana";var u,s=o("\\u3000","\\u303f"),h=o("\\u3040","\\u309f"),l=o("\\u30a0","\\u30ff"),d=o("\\u31f0","\\u31FF"),f=o("\\u3400","\\u4dbf"),p=o("\\u4e00","\\u9fdf"),S=o("\\uf900","\\ufaff"),C=o("\\uff00","\\uffef"),m=Object.freeze(((u={})[a.CharacterSet.CJKPunctuations]=s,u[a.CharacterSet.Hiragana]=h,u[a.CharacterSet.Katakana]=l,u[a.CharacterSet.KatakanaPhoneticExtension]=d,u[a.CharacterSet.RareKanji]=f,u[a.CharacterSet.KanjiCompatibilityIdeographs]=S,u[a.CharacterSet.CommonUncommonKanji]=p,u[a.CharacterSet.RomanHalfwidthKatakana]=C,u));process;var K=function(a){var r,n=((null==a?void 0:a.customRanges)||[]).map(function(a){return o(a.start,a.end)}).filter(Boolean),i=(void 0===(r=null==a?void 0:a.customUnicodes)&&(r=[]),r.map(c).filter(Boolean)),u=[].concat(n,i),s=function(a,r,n){var i=r.map(function(r){var n=a[r];return t(n,'createRegexGroups: key "'+r+'" not found in the "characterSetMap"'),e(n)}).filter(Boolean);i.push.apply(i,n);var o=i.join("|");return e("(",o,")")}(m,a.characterSets,u);return s},v=function(a){t(a,'createStrictValidator: requires "options" to be supplied'),t(null==a?void 0:a.characterSets,'createStrictValidator: requires "options.characterSets" to be supplied');var r=K(a),n=e("^",r,"+$");return function(a){return new RegExp(n,"i").test(a)}},j=function(a){t(a,'createMatchScoreCalculator: requires "options" to be supplied'),t(null==a?void 0:a.characterSets,'createMatchScoreCalculator: requires "options.characterSets" to be supplied');var r=K(a),n=e(r,"*");return function(a){var e=function(a,e,t){var r=new RegExp(e,"gui"),n=String(a).match(r);return(null==n?void 0:n.join(""))||""}(a,n);return e.length/a.length*100}},g=function(a){t(a,'createThresholdBasedValidator: requires "options" to be supplied'),t(null==a?void 0:a.characterSets,'createThresholdBasedValidator: requires "options.characterSets" to be supplied');var e=j(a);return function(a,t){void 0===t&&(t=85);var r=Math.max(0,Math.min(100,t));return e(a)>=r}},b={characterSets:[a.CharacterSet.RareKanji,a.CharacterSet.CommonUncommonKanji,a.CharacterSet.KanjiCompatibilityIdeographs]},R=v(b),k=g(b),P=j(b),x={characterSets:[a.CharacterSet.KatakanaPhoneticExtension,a.CharacterSet.Katakana,a.CharacterSet.Hiragana]},w=v(x),y=g(x),M=j(x),E={characterSets:[a.CharacterSet.CJKPunctuations,a.CharacterSet.Hiragana,a.CharacterSet.Katakana,a.CharacterSet.KatakanaPhoneticExtension,a.CharacterSet.RareKanji,a.CharacterSet.CommonUncommonKanji,a.CharacterSet.KanjiCompatibilityIdeographs,a.CharacterSet.RomanHalfwidthKatakana]},H=v(E),V=g(E),I=j(E);a.createMatchScoreCalculator=j,a.createStrictValidator=v,a.createThresholdBasedValidator=g,a.howMuchJapaneseIsPresent=I,a.howMuchKanaIsPresent=M,a.howMuchKanjiIsPresent=P,a.isJapanesePresent=V,a.isKanaPresent=y,a.isKanjiPresent=k,a.isValidJapanese=H,a.isValidKana=w,a.isValidKanji=R});
